image: python:3.7.3-stretch

variables:
  GIT_SUBMODULE_STRATEGY: recursive

before_script:
 - pip3 install -r requirements.txt

stages:
  - test

test_cpu:
  stage: test
  script: python3 -m unittest discover tests
  tags:
    - cpu

test_gpu:
  stage: test
  script: python3 -m unittest discover tests
  tags:
    - gpu
